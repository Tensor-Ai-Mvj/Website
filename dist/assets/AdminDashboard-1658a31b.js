import{I as f,z as w,r as g,q as e,J as k,K as C,E as A}from"./index-42b85287.js";const I=()=>{const{currentUser:p,isAdmin:m}=f();w();const[i,v]=g.useState("blogs"),[h,u]=g.useState(null),[t,n]=g.useState({title:"",description:"",date:"",image:"",tags:[],slug:"",bannerImg:"",longDescription:"",agenda:[],whyAttend:[],venue:"",duration:"",registrationStatus:"Open",speakers:[],websiteUrl:""});g.useEffect(()=>{console.log("Current User:",p),console.log("Is Admin:",m)},[p,m]);const d=a=>{const{name:s,value:l}=a.target;n(r=>({...r,[s]:l}))},j=async()=>{try{if(!m){u("You do not have permission to add items.");return}if(!t.title||!t.description||!t.date){u("Please fill in all required fields.");return}const a=i;console.log("Adding new item to collection:",a),console.log("Item details:",t);const s=await k(C(A,a),{...t,tags:t.tags.map(l=>l.trim()).filter(l=>l!==""),slug:t.slug||t.title.toLowerCase().replace(/\s+/g,"-")});console.log("Document added with ID:",s.id),n({title:"",description:"",date:"",image:"",tags:[],slug:"",bannerImg:"",longDescription:"",agenda:[],whyAttend:[],venue:"",duration:"",registrationStatus:"Open",speakers:[],websiteUrl:""}),u(null)}catch(a){console.error("Error adding item",a),u(a instanceof Error?a.message:"An unexpected error occurred while adding the item.")}},x=(a,s,l)=>{const r=[...t.agenda];r[a]={...r[a],[s]:l},n(o=>({...o,agenda:r}))},N=()=>{n(a=>({...a,agenda:[...a.agenda,{day:"",title:"",details:[]}]}))},c=(a,s,l)=>{const r=[...t.speakers];r[a]={...r[a],[s]:l},n(o=>({...o,speakers:r}))},y=()=>{n(a=>({...a,speakers:[...a.speakers,{name:"",role:"",bio:"",avatar:"",linkedin:""}]}))};return p?m?e.jsxs("div",{className:"min-h-screen bg-black text-white p-8",children:[e.jsx("h1",{className:"text-4xl mb-8",children:"Admin Dashboard"}),h&&e.jsx("div",{className:"bg-red-500/20 border border-red-500 p-4 rounded-lg mb-4",children:h}),e.jsx("div",{className:"flex mb-8",children:["blogs","projects","events"].map(a=>e.jsx("button",{onClick:()=>v(a),className:`px-4 py-2 ${i===a?"bg-purple-500":"bg-gray-800"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),e.jsxs("form",{className:"bg-gray-900 p-6 rounded-lg",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:t.title,onChange:d,className:"w-full bg-gray-800 p-2 rounded"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:t.description,onChange:d,className:"w-full bg-gray-800 p-2 rounded"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Date"}),e.jsx("input",{type:"date",name:"date",value:t.date,onChange:d,className:"w-full bg-gray-800 p-2 rounded"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Image URL"}),e.jsx("input",{type:"text",name:"image",value:t.image,onChange:d,className:"w-full bg-gray-800 p-2 rounded"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Tags (comma-separated)"}),e.jsx("input",{type:"text",value:t.tags.join(", "),onChange:a=>{const s=a.target.value.split(",").map(l=>l.trim()).filter(l=>l!=="");n(l=>({...l,tags:s}))},className:"w-full bg-gray-800 p-2 rounded",placeholder:"Enter tags separated by commas"})]}),i==="events"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Slug (URL-friendly name)"}),e.jsx("input",{type:"text",name:"slug",value:t.slug,onChange:d,className:"w-full bg-gray-800 p-2 rounded",placeholder:"Optional: will be generated from title if left blank"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Banner Image URL"}),e.jsx("input",{type:"text",name:"bannerImg",value:t.bannerImg,onChange:d,className:"w-full bg-gray-800 p-2 rounded"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Long Description"}),e.jsx("textarea",{name:"longDescription",value:t.longDescription,onChange:d,className:"w-full bg-gray-800 p-2 rounded",placeholder:"Detailed event description"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Venue"}),e.jsx("input",{type:"text",name:"venue",value:t.venue,onChange:d,className:"w-full bg-gray-800 p-2 rounded"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Duration"}),e.jsx("input",{type:"text",name:"duration",value:t.duration,onChange:d,className:"w-full bg-gray-800 p-2 rounded",placeholder:"e.g., '2 days', '3 hours'"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Registration Status"}),e.jsxs("select",{name:"registrationStatus",value:t.registrationStatus,onChange:a=>n(s=>({...s,registrationStatus:a.target.value})),className:"w-full bg-gray-800 p-2 rounded",children:[e.jsx("option",{value:"Open",children:"Open"}),e.jsx("option",{value:"Closed",children:"Closed"}),e.jsx("option",{value:"Ended",children:"Ended"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Event Agenda"}),t.agenda.map((a,s)=>e.jsxs("div",{className:"mb-4 p-4 bg-gray-800 rounded",children:[e.jsx("input",{type:"text",placeholder:"Day",value:a.day,onChange:l=>x(s,"day",l.target.value),className:"w-full bg-gray-700 p-2 rounded mb-2"}),e.jsx("input",{type:"text",placeholder:"Title",value:a.title,onChange:l=>x(s,"title",l.target.value),className:"w-full bg-gray-700 p-2 rounded mb-2"}),e.jsx("textarea",{placeholder:"Details (one per line)",value:a.details.join(`
`),onChange:l=>{const r=l.target.value.split(`
`).filter(b=>b.trim()!==""),o=[...t.agenda];o[s]={...o[s],details:r},n(b=>({...b,agenda:o}))},className:"w-full bg-gray-700 p-2 rounded"})]},s)),e.jsx("button",{type:"button",onClick:N,className:"bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded mt-2",children:"Add Agenda Item"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Why Attend (one per line)"}),e.jsx("textarea",{value:t.whyAttend.join(`
`),onChange:a=>{const s=a.target.value.split(`
`).filter(l=>l.trim()!=="");n(l=>({...l,whyAttend:s}))},className:"w-full bg-gray-800 p-2 rounded",placeholder:"Enter reasons to attend, one per line"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Speakers"}),t.speakers.map((a,s)=>e.jsxs("div",{className:"mb-4 p-4 bg-gray-800 rounded",children:[e.jsx("input",{type:"text",placeholder:"Name",value:a.name,onChange:l=>c(s,"name",l.target.value),className:"w-full bg-gray-700 p-2 rounded mb-2"}),e.jsx("input",{type:"text",placeholder:"Role",value:a.role,onChange:l=>c(s,"role",l.target.value),className:"w-full bg-gray-700 p-2 rounded mb-2"}),e.jsx("textarea",{placeholder:"Bio",value:a.bio,onChange:l=>c(s,"bio",l.target.value),className:"w-full bg-gray-700 p-2 rounded mb-2"}),e.jsx("input",{type:"text",placeholder:"Avatar URL",value:a.avatar,onChange:l=>c(s,"avatar",l.target.value),className:"w-full bg-gray-700 p-2 rounded mb-2"}),e.jsx("input",{type:"text",placeholder:"LinkedIn Profile URL",value:a.linkedin,onChange:l=>c(s,"linkedin",l.target.value),className:"w-full bg-gray-700 p-2 rounded"})]},s)),e.jsx("button",{type:"button",onClick:y,className:"bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded mt-2",children:"Add Speaker"})]})]}),i==="projects"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Project Website URL (optional)"}),e.jsx("input",{type:"text",value:t.websiteUrl,onChange:a=>n(s=>({...s,websiteUrl:a.target.value})),className:"w-full bg-gray-800 p-2 rounded"})]}),e.jsxs("button",{type:"button",onClick:j,className:"bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded",children:["Add ",i.slice(0,-1)]})]})]}):e.jsx("div",{className:"text-white p-8",children:"Access Denied. You must be an admin to view this page."}):e.jsx("div",{className:"text-white p-8",children:"Please log in to access this page."})};export{I as default};
